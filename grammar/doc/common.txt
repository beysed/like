// {contexts d=docker m=mariadb t=dev}
// {d.exec -t $t.db.docker} {m.backup target:/var/lib/mysql/backup db:$t.db.name by:$t.db.user pwd:$t.db.pwd}

# comment

-- sources.like
// sources docker=docker-like mariadb=mysql-like y=yaml-like}

-- template.like
`` create(table length)
` CREATE TABLE $table

-- back-db.like
// include sources.like
// include template.like
// contexts exec=docker.exec("-t") backup=mariadb.backup env=y("env.yaml" "dev")
`` exec(command ...)
` $command $...
// contexts exec=$exec(docker -t $y.docker) backup=mariadb.backup env=y("env.yaml" "dev")
> $exec env.docker backup(db:env.db by:env.user pwd:env.pwd to:env.backup_older


-- simple.like

#
# run docker 
#

| include: my.live
| source: y=yq(dev.yaml sd)
| file=config.yaml
| user=y.user docker=
| service="$(y[0].user)_svc"

`` template: user name age
` table head
` %each user of $users
`   $user.name $user.age
` %each parent of $user.parents
` %if a == 1 
` 

> $template(Ivan Stukov 42)
